<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{template/scriptBase:: layout(~{::section},~{::link},~{::script})}">

<link/>
<body>
<section>

  <div style="text-align : center; max-width: 500px; margin:4rem auto;">
    <div class="mb-4">
      <h4>Update Profile</h4>
    </div>
    <form th:action method="post" th:object="${profile}" enctype="multipart/form-data">


      <div class="jongterest_filebox">
        <input class="jongterest_upload-name" value="미선택시 기존 파일 사용" placeholder="미선택시 기존 파일 사용" readonly="readonly">
        <label th:class="jongterest_input-file-button" for="input-file">파일찾기</label>
        <input type="file" id="input-file" name="profileImage" style="display: none;"/>
      </div>

      <div class="jongterest_space">
        <label for="nickname">닉네임</label>
        <input type="text" id="nickname" th:field="*{nickname}" class="form-control"
               th:errorclass="jongterest_field-error">
        <div class="jongterest_field-error" th:errors="*{nickname}">닉네임 오류</div>
      </div>

      <div class="jongterest_space">
        <label for="message">메세지</label>
        <input type="text" id="message" th:field="*{message}" class="form-control"
               th:errorclass="jongterest_field-error">
        <div class="jongterest_field-error" th:errors="*{message}">메세지 오류</div>
      </div>

      <input type="submit" class="btn btn-dark rounded-pill col-6 mt-3">
    </form>
  </div>

</section>
</body>
<script>

$(document).ready(function() {
    $("#input-file").on('change',function(){
      console.log("hello");
      var fileName = $("#input-file").val();
      $(".jongterest_upload-name").val(fileName);
    });
});
</script>
</html>